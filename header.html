<header style="background-color: #008080; color: white; padding: 10px; position: relative;">
    <h1>Quad Cities Sweepstakes</h1>

    <!-- Navigation Links -->
    <nav style="margin-bottom: 10px;">
        <a href="index.html" style="color: white; text-decoration: none; margin-right: 10px;">Home</a>
        <a href="events.html" style="color: white; text-decoration: none; margin-right: 10px;">Events</a>
        <a href="contact.html" style="color: white; text-decoration: none; margin-right: 10px;">Contact</a>
    </nav>

    <div id="announcement-container" style="margin-top: 10px; padding: 5px; background-color: rgba(255, 255, 255, 0.1); border-radius: 5px; position: relative;">
        <span id="announcement-text">Loading announcement...</span>
        <br>
        <span id="announcement-timestamp" style="font-size: 0.7em; color: #ddd;"></span>
        <br /><br />

        <a href="editannouncement.html" style="position: absolute; bottom: 5px; right: 5px; color: teal; text-decoration: none;">Admin Edit</a>
    </div>

    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD-giQ4CGXX6F0RIXbAzbp_0vDDomoLo8g",
            authDomain: "qcsweeps-4b994.firebaseapp.com",
            databaseURL: "https://qcsweeps-4b994-default-rtdb.firebaseio.com",
            projectId: "qcsweeps-4b994",
            storageBucket: "qcsweeps-4b994.appspot.com",
            messagingSenderId: "810241609281",
            appId: "1:810241609281:web:63ecd22b6acbee2cf480c0"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Announcement code
        document.addEventListener('DOMContentLoaded', function() {
            const announcementRef = ref(db, 'announcement');
            const announcementTextElement = document.getElementById('announcement-text');
            const announcementTimestampElement = document.getElementById('announcement-timestamp');

            onValue(announcementRef, (snapshot) => {
                const announcement = snapshot.val();
                if (announcement && announcement.text) {
                    announcementTextElement.textContent = announcement.text;
                    announcementTimestampElement.textContent = "Last Updated: " + (new Date(announcement.timestamp)).toLocaleString();
                } else {
                    announcementTextElement.textContent = 'No announcement currently.';
                    announcementTimestampElement.textContent = "";
                }
            });
        });
    </script>
</header>
